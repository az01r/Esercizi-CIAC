<!DOCTYPE html>
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato|Roboto|Trirong">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" type="text/css" href="css/menu.css" /> 
        <script>
            var modal = document.getElementById('fregister');
            window.onclick = function (event) {
                if (event.target === modal) {
                    cancelRegister();
                }
            };
            function init(){
                const form = document.querySelector('#freg');
                form.addEventListener('submit', doRegistrazione);

            }
            function cancelRegister() {
                modal = document.getElementById('fregister');
                modal.style.display = "none";
                let allinput = document.querySelectorAll(".modal input");
                for (i of allinput)
                    i.value = "";
            }
            function registrazione() {
                document.getElementById('fregister').style.display = 'block';
            }
            function doRegistrazione(event) {
                event.preventDefault();
                const data = new FormData(event.target);
                const formJSON = Object.fromEntries(data.entries());
                //checkbox array stesso name piu' oggetti
                formJSON.news = data.getAll('news');
                let bodydata=JSON.stringify(formJSON);
                fetch("http://example.com/api/endpoint/", {
                    method: "post",
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    },
                    body: bodydata
                })
                        .then((response) => {
                            //do something awesome that makes the world a better place
                        });
            }
                
        </script>
    </head>
    <body onload="init()">
        <div class="modal" id="fregister">
            <div class="divcenter">
                <span onclick="cancelRegister()" class="closeX" title="Close">&times;</span>
                <form id="freg">
                    <h3>Form registrazione</h3>
                    <input type="text" name="nome" id="nome" required placeholder="ins.nome">
                    <input type="text" name="cognome" id="cognome" required placeholder="ins.cognome">
                    <input type="email" name="mail" id="mail" required placeholder="ins.mail">
                    <input type="tel" name="tel" id="tel"  placeholder="ins tel">
                    <p>Iscrizione Newsletter</p>
                    <label for="news1">
                        <input type="checkbox" value="news1"  name="news" style="width:auto" > News1
                    </label>
                    <label for="news2">
                        - <input type="checkbox" value="news2" name="news" style="width:auto" > News2
                    </label>
                    <label for="news3">
                        - <input type="checkbox" value="news3" name="news" style="width:auto" > News3
                    </label>

                    <input type="text" name="usr" id="usr" required placeholder="ins username">
                    <input type="password" name="pwd" required id="pwd" placeholder="ins password">
                    <button type="submit" >Registrati</button>
                    <label for="agree">
                        <input type="checkbox" required checked id="agree" name="agree" style="width:auto" > Autorizzo i miei dati
                    </label>

                </form>
            </div>
        </div>
        <header>
            <input type="checkbox" id="hamburger"/>
            <label class="menuicon" for="hamburger">
                <span></span>
            </label>
            <div id="bar"> 
                <div id="logo">
                    <a href="#"><img src="img/logobank.png" alt="your logo" title="your logo" height="54"></a>
                </div> <!--/fine logo-->   
            </div><!--/fine bar--> 
            <nav class="menu-visibility">
                <ul>
                    <li><a  href="home.html">HOME</a></li>
                    <li><a class="submenu" href="#">SERVIZI</a>
                        <ul>
                            <li><a href="#">Servizio 1</a></li>
                            <li><a href="#">Servizio 3</a></li>
                        </ul>
                    </li>


                    <li><a href="#" class="active">CHI SIAMO</a></li>
                    <li><a href="#" >CONTATTI</a></li>
                    <li><a class="submenu" href="#">LOGIN</a>
                        <ul>
                            <li>
                                <form id="flogin">
                                    <label for="usr">username</label>
                                    <input type="text" required name="usr" id="usr" placeholder="ins username">
                                    <label for="pwd">password</label>
                                    <input type="password" required name="pwd" id="pwd" 
                                           placeholder="ins password">
                                    <button onclick="login();">Login</button><br>
                                    <span class="spregistrati" onclick="registrazione()">Registrati</span>

                                </form>
                            </li>   
                        </ul>

                    </li>


                </ul>
            </nav>
        </header>
        <div class="page">    

            <div class="full-row bklight">
                <h1 class="titolo">CHI SIAMO</h1>
                <h2>La banca per ogni esigenza</h2>
            </div>

            <div class="inner-row">
                <h2>ForniamoServizi ForniamoServizi ForniamoServizi</h2>
                <div class="flex">
                    <div class="flex-item">FlexItemFlexItemFlexItem</div>
                    <div class="flex-item">FlexItemFlexItemFlexItem</div>
                    <div class="flex-item">FlexItemFlexItemFlexItem</div>
                    <div class="flex-item">FlexItemFlexItemFlexItem</div>
                    <div class="flex-item">FlexItemFlexItemFlexItem</div>
                    <div class="flex-item">FlexItemFlexItemFlexItem</div>
                </div>
                
            </div>
        <footer class="flex">
            <div class="flex-item">
                <a href="#">link1 link1 </a>
                <hr>
                <a href="#">link1 link1</a>
                <hr>
                <a href="#">link1 link1 </a>
                <hr>
                <a href="#">link1 link1</a>
                <hr>
                <a href="#">link1 link1</a>
                <hr>
            </div>
            <div  class="flex-item">
                <a href="#">link1 link1 </a>
                <hr>
                <a href="#">link1 link1</a>
                <hr>
            </div>
            <div  class="flex-item">
                <a href="#">link1 link1 </a>
                <hr>
                <a href="#">link1 link1</a>
                <hr>
                <a href="#">link1 link1 </a>
                <hr>
                <a href="#">link1 link1</a>
                <hr>
                <a href="#">link1 link1 </a>
                <hr>
                <a href="#">link1 link1</a>


            </div>

        </footer>
    </body>

</html>

